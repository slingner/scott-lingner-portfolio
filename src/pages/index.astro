---
import Layout from "@layouts/Layout.astro";
import Container from "@components/Container.astro";
import { SITE, HOME, SOCIALS } from "@consts";
import Link from "@components/Link.astro";
import TagBadge from "@components/TagBadge.astro";
import { getCollection } from "astro:content";

const newsItems = (await getCollection("news"))
  .filter((item) => !item.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, 4);
---

<Layout title={HOME.TITLE} description={HOME.DESCRIPTION}>
  <Container>
    <aside data-pagefind-ignore>
      <div class="space-y-12">
        <section>
          <article class="space-y-8">
            <!-- container  -->
            <div
              class="flex flex-col items-start gap-8 md:flex-row md:items-start md:justify-between"
            >
              <div class="animate max-w-96">
                <p
                  class="m-0 text-lg leading-relaxed text-stone-700 dark:text-stone-300"
                >
                  Multi-disciplinary creator based in California.
                </p>
                <p
                  class="max-w-fit text-lg leading-relaxed text-stone-700 dark:text-stone-300"
                >
                  <!-- BIO  -->
                  I'm a frontend engineer with five years of experience building
                  impactful applications in the EdTech space. My work at Prenda helped
                  thousands of microschools deliver personalized education through
                  technology. I'm passionate about clean code, thoughtful design,
                  and building products that make a difference.
                </p>
                <p
                  class="mt-4 text-lg leading-relaxed text-stone-700 dark:text-stone-300"
                >
                  When I'm not coding, I'm exploring the intersection of
                  technology and creativity through music, photography, art and
                  design.
                </p>
              </div>

              <!-- LARGE UPPERCASE TEXT LINKS -->
              <div
                class="animate flex flex-col items-end gap-4 text-3xl font-semibold leading-snug text-stone-900 dark:text-stone-100 md:text-7xl"
              >
                <Link
                  href="/software-engineering"
                  underline={false}
                  class="project-link"
                >
                  SOFTWARE
                </Link>
                <Link href="/music" underline={false} class="project-link">
                  MUSIC
                </Link>
                <Link href="/stationery" underline={false} class="project-link">
                  ART
                </Link>
                <Link href="/photo" underline={false} class="project-link">
                  PHOTOGRAPHY
                </Link>
              </div>
            </div>

            <!-- News Section - Editorial Style -->
            <!-- <section class="animate mt-12 space-y-6">
              <h2 class="text-2xl font-bold text-stone-900 dark:text-stone-100">
                Latest News
              </h2>

              <div class="grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-8">
                {
                  newsItems.map((item) => (
                    <Link
                      href={`/news/${item.slug}`}
                      class="group block h-full"
                    >
                      <article class="flex h-full flex-col overflow-hidden rounded-xl bg-white shadow-lg transition-all duration-500 hover:shadow-2xl dark:bg-stone-900">
                        {item.data.thumbnail && (
                          <div class="relative aspect-[16/10] overflow-hidden bg-stone-200 dark:bg-stone-800">
                            <img
                              src={item.data.thumbnail}
                              alt={item.data.title}
                              class="h-full w-full object-cover transition-all duration-700 group-hover:scale-105"
                            />
                            <div class="absolute left-4 top-4 flex flex-col gap-2">
                              <span class="inline-block rounded-full bg-stone-900/80 px-3 py-1 font-mono text-xs text-white backdrop-blur-sm dark:bg-stone-100/80 dark:text-stone-900">
                                {new Date(item.data.date).toLocaleDateString(
                                  "en-US",
                                  {
                                    month: "short",
                                    year: "numeric",
                                  },
                                )}
                              </span>
                              {item.data.tags && item.data.tags.length > 0 && (
                                <div class="flex flex-wrap gap-1">
                                  {item.data.tags.map((tag) => (
                                    <TagBadge tag={tag} />
                                  ))}
                                </div>
                              )}
                            </div>
                          </div>
                        )}
                        <div class="flex flex-1 flex-col p-6 md:p-8">
                          <h3 class="mb-3 text-xl font-bold leading-tight text-stone-900 transition-colors group-hover:text-stone-700 dark:text-stone-100 dark:group-hover:text-stone-300 md:text-2xl">
                            {item.data.title}
                          </h3>
                          <p class="mb-4 flex-1 text-sm leading-relaxed text-stone-600 dark:text-stone-400 md:text-base">
                            {item.data.description}
                          </p>
                          <div class="flex items-center text-sm font-medium text-stone-700 transition-transform duration-300 group-hover:translate-x-2 dark:text-stone-300">
                            <span>Read more</span>
                            <svg
                              class="ml-2 h-4 w-4"
                              fill="none"
                              viewBox="0 0 24 24"
                              stroke="currentColor"
                            >
                              <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M17 8l4 4m0 0l-4 4m4-4H3"
                              />
                            </svg>
                          </div>
                        </div>
                      </article>
                    </Link>
                  ))
                }
              </div>

              <div class="mt-8">
                <Link
                  href="/news"
                  class="inline-flex items-center gap-2 rounded-full bg-stone-900 px-6 py-3 font-semibold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:bg-stone-800 hover:shadow-xl dark:bg-stone-100 dark:text-stone-900 dark:hover:bg-stone-200"
                >
                  View all news
                  <svg
                    class="h-4 w-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                  </svg>
                </Link>
              </div>
            </section> -->

            <section class="animate mt-12 space-y-4">
              <h2
                class="mb-4 text-2xl font-bold text-stone-900 dark:text-stone-100"
              >
                Connect
              </h2>

              <p
                class="mb-4 text-base leading-relaxed text-stone-700 dark:text-stone-300"
              >
                Get in touch about creative work or collaborative opportunities.
              </p>
              <p
                class="text-base font-semibold text-stone-900 dark:text-stone-100"
              >
                <Link
                  href={`mailto:${SITE.EMAIL}`}
                  aria-label={`Email ${SITE.TITLE}`}
                >
                  {SITE.EMAIL}
                </Link>
              </p>

              <ul class="not-prose flex flex-wrap gap-2">
                {
                  SOCIALS.map((SOCIAL) => (
                    <li class="flex gap-x-2 text-nowrap pb-4">
                      <Link
                        href={SOCIAL.HREF}
                        external
                        aria-label={`${SITE.TITLE} on ${SOCIAL.NAME}`}
                      >
                        {SOCIAL.NAME}
                      </Link>
                      {"/"}
                    </li>
                  ))
                }
                <li class="line-clamp-1">
                  <Link href="/rss.xml" aria-label="Scott Lingner RSS feed">
                    RSS
                  </Link>
                </li>
              </ul>
            </section>
          </article>
        </section>
      </div>
    </aside>
  </Container>
</Layout>

<style>
  .project-link {
    position: relative;
    display: inline-block;
    font-style: normal;
    transition: font-style 0.3s ease;
  }

  .project-link:hover {
    font-style: italic;
  }

  .project-link::after {
    content: "";
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 3px;
    background-color: #3b82f6; /* blue-500 */
    transition: width 0.3s ease;
  }

  .project-link:hover::after {
    width: 100%;
  }
</style>
