@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  overflow-y: auto;
  color-scheme: light;
  scroll-padding-top: 100px;
}

html.dark {
  color-scheme: dark;
}

html,
body {
  @apply size-full;
}

body {
  @apply font-sans antialiased;
  @apply flex flex-col;
  @apply bg-gradient-to-br from-sky-50 via-blue-50 to-cyan-50 dark:bg-gradient-to-br dark:from-slate-900 dark:via-blue-950 dark:to-cyan-950;
  @apply text-slate-800 dark:text-slate-100;
}

header {
  @apply fixed left-0 right-0 top-0 z-50 py-6;
  @apply bg-gradient-to-r from-sky-100/90 via-blue-100/90 to-cyan-100/90 dark:bg-gradient-to-r dark:from-slate-900/90 dark:via-blue-950/90 dark:to-cyan-950/90;
  @apply saturate-200 backdrop-blur-md;
  @apply border-b border-cyan-200/50 dark:border-cyan-800/50;
}

main {
  @apply flex-1 py-24;
}

footer {
  @apply py-6 text-sm;
}

article {
  @apply prose prose-sky max-w-full dark:prose-invert prose-img:mx-auto prose-img:my-auto;
  @apply prose-headings:font-semibold;
  @apply prose-headings:text-cyan-900 prose-headings:dark:text-cyan-100;
}

@layer utilities {
  article a {
    @apply font-sans text-cyan-700 dark:text-cyan-300 underline underline-offset-[3px];
    @apply decoration-cyan-500/40 dark:decoration-cyan-400/40;
    @apply transition-colors duration-300 ease-in-out;
  }
  article a:hover {
    @apply text-cyan-900 dark:text-cyan-100;
    @apply decoration-cyan-600/60 dark:decoration-cyan-300/60;
  }
}

.animate {
  @apply -translate-y-3 opacity-0;
  @apply transition-all duration-300 ease-out;
}

.animate.show {
  @apply translate-y-0 opacity-100;
}

html #back-to-top {
  @apply pointer-events-none opacity-0;
}

html.scrolled #back-to-top {
  @apply pointer-events-auto opacity-100;
}

/* shiki config */
pre {
  @apply border border-black/15 py-5 dark:border-white/20;
}

:root {
  --astro-code-color-text: #0f172a;
  --astro-code-color-background: #f0f9ff;
  --astro-code-token-comment: #94a3b8;
  --astro-code-token-keyword: #f472b6;
  --astro-code-token-string: #06b6d4;
  --astro-code-token-function: #0891b2;
  --astro-code-token-constant: #0284c7;
  --astro-code-token-parameter: #0ea5e9;
  --astro-code-token-string-expression: #d946ef;
  --astro-code-token-punctuation: #64748b;
  --astro-code-token-link: #3b82f6;
}

.dark {
  --astro-code-color-text: #e0f2fe;
  --astro-code-color-background: #0c4a6e;
  --astro-code-token-comment: #94a3b8;
  --astro-code-token-keyword: #f9a8d4;
  --astro-code-token-string: #22d3ee;
  --astro-code-token-function: #67e8f9;
  --astro-code-token-constant: #7dd3fc;
  --astro-code-token-parameter: #38bdf8;
  --astro-code-token-string-expression: #e879f9;
  --astro-code-token-punctuation: #cbd5e1;
  --astro-code-token-link: #60a5fa;
}

/* copy code button on codeblocks */
.copy-code {
  @apply absolute right-3 top-3 grid size-9 place-content-center rounded border border-cyan-300/30 bg-sky-100 text-center duration-300 ease-in-out dark:border-cyan-700/30 dark:bg-slate-800;
}

.copy-code:hover {
  @apply bg-sky-200 transition-colors dark:bg-slate-700;
}

.copy-code:active {
  @apply scale-90 transition-transform;
}
